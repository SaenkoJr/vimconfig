---

- hosts: localhost
  vars:
    home: "${HOME}"
    packer_dest: "{{ home }}/.local/share/nvim/site/pack/packer/start"
  tasks:
    - name: Install pynvim3
      pip:
        name: pynvim
        extra_args: --user
        executable: pip3

    - name: Install ranger-fm
      pip:
        name: ranger-fm
        extra_args: --user
        executable: pip3

    - name: Install pynvim2
      pip:
        name: pynvim
        extra_args: --user
        executable: pip2

    - name: Install nvim via yarn
      command: yarn global add neovim

    - name: Install nvim via gem
      command: gem install neovim

    - name: asdf reshim
      command: asdf reshim

    - name: Install packer
      git:
        repo: https://github.com/wbthomason/packer.nvim
        depth: 1
        dest: "{{ packer_dest }}/packer.nvim"

    - name: Install aniseed
      git:
        repo: https://github.com/Olical/aniseed
        dest: "{{ packer_dest }}/aniseed"
        version: develop

    - name: Install impatient
      git:
        repo: https://github.com/lewis6991/impatient.nvim
        dest: "{{ packer_dest }}/impatient.nvim"
